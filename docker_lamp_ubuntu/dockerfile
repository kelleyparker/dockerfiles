FROM ubuntu:latest

# Set non-interactive mode
ENV DEBIAN_FRONTEND=noninteractive

# Update and install Apache, MySQL, PHP
RUN apt-get update && \
    apt-get install apache2 mysql-server php -y

# Install Python3 and any additional dependencies
RUN apt-get install python3 -y

# Copy a script for database setup
COPY setup_db.sh /usr/local/bin/
RUN chmod +x /usr/local/bin/setup_db.sh

# Start Apache and MySQL services when the container runs
CMD service apache2 start && service mysql start && /bin/bash